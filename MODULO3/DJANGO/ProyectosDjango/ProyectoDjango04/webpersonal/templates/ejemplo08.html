{% extends 'index.html' %}

{% block title %}Ejemplo 08{% endblock %}

{% block content %} 
    <h2>[08] Obtener el nombre del vendedor con un join</h2>
    <h2>Clientes con sus Vendedores</h2>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>ID Cliente</th>
                <th>Empresa</th>
                <th>Límite de Crédito</th>
                <th>Vendedor Asignado</th>
                <th>ID Vendedor</th>
            </tr>
        </thead>
        <tbody>
            {% for cliente in clientes %}
            <tr>
                <td>{{ cliente.idCliente }}</td>
                <td>{{ cliente.empresa }}</td>
                <td>${{ cliente.limite_credito|floatformat:2 }}</td>
                <td>{{ cliente.nombre_vendedor|default:"Sin vendedor asignado" }}</td>
                <td>{{ cliente.idVendedor|default:"" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="text-center">No hay clientes registrados</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}